flowchart TD
    subgraph Platform["Platform"]
        A[User signs up as Restaurant/Courier]
        C[Custom onboarding form]
        D[Collect business details & bank info]
    end

    subgraph Stripe["Stripe API"]
        B[Create Custom Connected Account]
        E[Update account via API]
        F[Accept ToS via API]
        G[Add external bank account]
        H{Verification}
        I[Account Ready]
        J[Requirements Pending]
    end

    A --> B
    B --> C
    C --> D
    D --> E
    E --> F
    F --> G
    G --> H

    H -->|Approved| I
    H -->|Needs Info| J
    J --> C

    I --> K[Can receive transfers]

    style A fill:#f5f5f5,stroke:#333
    style B fill:#635bff,stroke:#333,color:#fff
    style C fill:#f5f5f5,stroke:#333
    style D fill:#f5f5f5,stroke:#333
    style E fill:#635bff,stroke:#333,color:#fff
    style F fill:#635bff,stroke:#333,color:#fff
    style G fill:#635bff,stroke:#333,color:#fff
    style H fill:#ffb347,stroke:#333
    style I fill:#4caf50,stroke:#333,color:#fff
    style J fill:#ff6b6b,stroke:#333,color:#fff
    style K fill:#4caf50,stroke:#333,color:#fff
